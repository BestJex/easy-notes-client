<template>
  <a-empty style="margin-top:64px"> 
      <a-dropdown >
        <a-menu slot="overlay" @click="createNotes">
          <a-menu-item key="rich_text"> 
            <svg t="1609213178251" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="29469" width="10" height="10"><path d="M577.215757 956.736653c-11.568886-15.561688-17.19976-52.315937-17.19976-110.262748V64.191962h127.360128c32.24955 0 60.506299 2.25235 84.360728 6.859428 24.059188 4.607079 44.227954 13.104579 60.915816 25.69726 16.687862 12.592681 30.20196 30.406719 40.542292 53.646871 10.442711 23.240152 18.223555 53.032593 23.444911 89.889222h29.690062V0H48.835033v240.079984h18.018796c4.19756-32.24955 11.159368-59.482503 20.783044-81.903619s22.216357-40.542292 37.880424-54.363528c15.561688-13.923615 34.706659-23.854429 57.127774-30.09958 22.421116-6.245151 48.425515-9.418916 78.115577-9.418916h149.269346v782.179564c0 62.861028-7.064187 102.174765-21.192561 117.838832-19.247351 21.090182-49.756449 31.737652-91.424916 31.737653h-36.754249v27.94961h449.446111v-27.94961h-37.470906c-44.842232-0.204759-76.682264-13.309338-95.417716-39.313737z" fill="#15385A" p-id="29470"></path><path d="M682.666667 762.522695h6.040392c1.433313-10.74985 3.685663-19.861628 6.859428-27.232953 3.173765-7.473705 7.371326-13.514097 12.695061-18.121176 5.118976-4.607079 11.568886-7.985603 18.940212-10.033193 7.473705-2.04759 16.175965-3.173765 26.106778-3.173765h49.756449v260.760648c0 20.987802-2.354729 33.990002-6.961808 39.211357-6.44991 6.961808-16.585483 10.545091-30.509098 10.545091h-12.285543v9.316537H903.089782v-9.316537h-12.490302c-14.947411 0-25.594881-4.29994-31.737652-13.104579-3.788042-5.221356-5.835633-17.404519-5.835633-36.856628V703.961608h42.487502c10.85223 0 20.168766 0.716657 28.05199 2.252349 8.087982 1.535693 14.742651 4.29994 20.271146 8.497501s10.033193 10.237952 13.616476 17.814037c3.378524 7.678464 6.040392 17.711658 7.780844 29.894821h9.930814v-79.958408H682.666667v80.060787z" fill="#D0D7DE" p-id="29471"></path></svg>
            富文本 
          </a-menu-item>
          <a-menu-item key="markdown"> 
            <svg t="1609211872898" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2261" width="10" height="10"><path d="M896 0h128v1024h-128V304l-303.872 569.728L672 1024h-320l79.872-150.272L128 304V1024H0V0h128l384 722.816L896 0z" fill="#2F80ED" p-id="2262"></path></svg> 
            Markdown 
          </a-menu-item>
        </a-menu>
        <a-button style="margin-left: 8px" type="primary" > 创建笔记 
          <a-icon type="plus" /> 
        </a-button>
      </a-dropdown>
  </a-empty>
</template>
<script>
  export default {
    data(){
      return{
        token: this.db.get("USER").token
      }
    },
    props: {
      notes:{}
    },
    methods: {
      // 创建笔记
      createNotes(type) {
        let dataForm = {
            categoryId: this.$route.params.id,
            title: '无标题',
            content: '',
            user_id:'zealon',
            type: type.key
        }
        this.postRequest('/notes/create', dataForm, {"JWTHeaderName":this.token}).then(resp => {
            if (resp && resp.code==200) {
              let timestamp=new Date().getTime();
              let url = '/home/notes-list/'+resp.data.categoryId+'?level=2&type='+resp.data.type+'&timestamp='+timestamp;
              this.$router.push(url);
            }
        })
      }
    }
  }
</script>